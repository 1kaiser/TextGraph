<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Text as Graph - Exact Distill Implementation</title><link rel="stylesheet" href="style.b5867125.css"><link rel="stylesheet" href="text-as-graph.93272edc.css"><script src="https://d3js.org/d3.v5.min.js"></script><script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script><script async src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body> <div class="text-input-section" style="position:fixed;top:calc(100vh - 200px);left:20px;width:350px;background:hsla(0,0%,100%,.95);border:1px solid #ddd;border-radius:8px;padding:15px;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,.15);cursor:grab;transition:all .2s ease;"> <div class="drag-handle" style="position:absolute;top:-8px;right:-8px;width:16px;height:16px;background:#dc3545;border-radius:50%;cursor:grab;z-index:1001;transition:background .2s ease;"></div>  <div class="paragraph-section" style="margin-bottom:15px;"> <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;"> <div style="font-size:12px;font-weight:500;color:#555;">📄 Context Paragraph</div> <button id="toggle-paragraph" onclick="toggleParagraph()" style="background:none;border:none;cursor:pointer;font-size:16px;color:#666;">▲</button> </div> <div id="paragraph-container" style="display:block;"> <textarea id="paragraph-input" placeholder="Enter full paragraph for attention context..." maxlength="10000" style="width:100%;height:80px;padding:8px;font-size:12px;border:1px solid #ddd;border-radius:4px;resize:vertical;font-family:monospace;">Neural networks are powerful machine learning models. Graph attention mechanisms capture complex relationships between words. These models can transform how we process natural language understanding.</textarea> <div style="font-size:10px;color:#888;text-align:right;margin-top:2px;"> <span id="para-char-count">179</span>/10000 chars </div> </div> </div>  <div style="text-align:center;margin-bottom:10px;font-size:14px;font-weight:500;">🎯 Query Sentence</div> <input type="text" id="manual-text-input" placeholder="Enter query sentence..." value="Graph attention mechanisms capture relationships" style="width:100%;padding:8px;font-size:14px;border:1px solid #ddd;border-radius:4px;text-align:center;">  <div style="margin-bottom:8px;font-size:11px;"> <label style="display:flex;align-items:center;gap:4px;"> <input type="radio" name="embedding-method" value="synthetic" checked style="margin:0;"> <span>🎲 Synthetic Embeddings (Fast)</span> </label> <label style="display:flex;align-items:center;gap:4px;margin-top:4px;"> <input type="radio" name="embedding-method" value="real" style="margin:0;"> <span>🧠 EmbeddingGemma (Semantic)</span> </label> </div> <div style="text-align:center;margin-top:8px;"> <button id="update-graph" onclick="updateVisualization()" style="background:#4285f4;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px;">🔄 Compute GAT</button> </div> </div>  <div id="text-as-graph" style="width:100%;min-height:400px;position:relative;cursor:grab;" class="draggable-graph"></div> <script src="TextGraph.1d2330b7.js"></script> <script src="embedding-gemma-demo.d8eac58f.js"></script> <script>var t=!1,e=0,n=0,a=0,o=0,r=document.querySelector(".text-input-section"),l=document.querySelector(".drag-handle");function i(l){if("INPUT"!==l.target.tagName&&"TEXTAREA"!==l.target.tagName&&"BUTTON"!==l.target.tagName){console.log("🎯 Starting drag from",l.target.className||l.target.tagName),t=!0,e=l.clientX,n=l.clientY;var i=r.getBoundingClientRect();a=i.left,o=i.top,console.log("📍 Starting drag from position:",a,o),r.style.cursor="grabbing",r.style.boxShadow="0 8px 20px rgba(0,0,0,0.3)",l.preventDefault(),l.stopPropagation()}else console.log("🚫 Drag blocked: clicked on",l.target.tagName)}r.addEventListener("mouseenter",function(){r.style.boxShadow="0 8px 20px rgba(0,0,0,0.25)",r.style.transform="translateY(-2px)",l.style.background="#ff4757"}),r.addEventListener("mouseleave",function(){t||(r.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",r.style.transform="translateY(0px)",l.style.background="#dc3545")}),l.addEventListener("mousedown",i),r.addEventListener("mousedown",i),document.addEventListener("mousemove",function(l){if(t){var i=l.clientX-e,d=l.clientY-n,g=Math.max(0,Math.min(window.innerWidth-350,a+i)),s=Math.max(0,Math.min(window.innerHeight-200,o+d));console.log("🔄 Dragging to:",g,s),r.style.left=g+"px",r.style.top=s+"px",r.style.bottom="auto",r.style.right="auto"}}),document.addEventListener("mouseup",function(){t&&(t=!1,r.style.cursor="grab",r.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",l.style.background="#dc3545"),d&&(d=!1,m.style.cursor="grab")});var d=!1,g=0,s=0,c=0,u=0,m=document.querySelector(".draggable-graph");function p(){var t=document.getElementById("paragraph-container"),e=document.getElementById("toggle-paragraph");"none"===t.style.display?(t.style.display="block",e.textContent="▲"):(t.style.display="none",e.textContent="▼")}function y(){var t=document.getElementById("paragraph-input"),e=document.getElementById("para-char-count");t&&e&&(e.textContent=t.value.length)}m.addEventListener("mousedown",function(t){if("rect"!==t.target.tagName&&"text"!==t.target.tagName&&"path"!==t.target.tagName){d=!0,g=t.clientX,s=t.clientY;var e=m.getBoundingClientRect();c=e.left,u=e.top,m.style.cursor="grabbing",m.style.position="fixed",m.style.left=c+"px",m.style.top=u+"px",m.style.zIndex="999",t.preventDefault()}}),document.addEventListener("mousemove",function(t){if(d){var e=t.clientX-g,n=t.clientY-s,a=Math.max(-200,Math.min(window.innerWidth-200,c+e)),o=Math.max(-100,Math.min(window.innerHeight-100,u+n));m.style.left=a+"px",m.style.top=o+"px"}}),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("paragraph-input");t&&(t.addEventListener("input",y),y())});</script> </body></html>